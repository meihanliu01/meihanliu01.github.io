---
import { siteConfig } from "../config";

type PersonalLifeItem = {
  slug: string;
  title: string;
  description: string;
  cover?: string;
  images?: string[];
  image?: string;
};

const items = siteConfig.personalLife as PersonalLifeItem[] | undefined;
const hasPersonal = items && items.length > 0;
---

{
  hasPersonal && (
    <section id="personal-life" class="p-8 sm:p-12 md:p-16 lg:p-24">
      <div>
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-16 items-start">
          {/* Left title column */}
          <div class="lg:col-span-4">
            <h2 class="text-3xl sm:text-4xl md:text-5xl xl:text-7xl font-bold text-gray-900">
              Personal Life
            </h2>
            <div
              class="w-[75px] h-[5px] mt-2 rounded-full"
              style={`background-color: ${siteConfig.accentColor}`}
            />
          </div>

          {/* Right content column */}
          <div class="lg:col-span-8">
            <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-6">
              {items.map((item) => (
                <a
                  href={`/personal/${item.slug}`}
                  class="bg-white rounded-lg shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-300 overflow-hidden group"
                >
                  <div class="aspect-[16/10] bg-gray-50 overflow-hidden rounded-lg">
                    <img
                      class="w-full h-full object-cover"
                      src={item.cover ?? item.image ?? item.images?.[0]}
                      alt={item.title}
                      loading="lazy"
                    />
                  </div>

                  <div class="p-4 sm:p-5">
                    <h3 class="text-lg sm:text-xl font-semibold text-gray-900">
                      {item.title}
                    </h3>

                    {item.description && (
                      <p class="mt-1 text-sm sm:text-base text-gray-600 line-clamp-2">
                        {item.description}
                      </p>
                    )}
                  </div>
                </a>
              ))}
            </div>
          </div>
        </div>
      </div>

      <style>
        .imgBox {
          background: #f3f4f6;
          border-radius: 0.75rem;
          overflow: hidden;
          height: 180px;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .thumb {
          max-width: 100%;
          max-height: 100%;
          object-fit: contain;
          display: block;
        }
      </style>
    </section>
  )
}
